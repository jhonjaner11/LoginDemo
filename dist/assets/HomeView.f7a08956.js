import{_ as C}from"./tag.07a9a7dd.js";import{V as P,a as k,b as w}from"./VCard.720b3197.js";import{V as y,a as x,c as F}from"./VList.bf0a3890.js";import{V as p}from"./VContainer.639b3e16.js";import{V as N,a as i}from"./VRow.773232b2.js";import{V as R}from"./VAutocomplete.92b5b8e3.js";import{V as _}from"./VTextField.74b68bde.js";import{V}from"./VBtn.72b8da76.js";import{V as B}from"./VTable.83607dcd.js";import{G as c,D as b,E as e,q as t,J as u,w as I,ai as o,K as h,F as L,L as U,N as n}from"./index.873f8d60.js";import{w as v}from"./VAvatar.4761bf2c.js";/* empty css              */const E={data:()=>({drawer:!1,group:null,products:[{id:1,name:"Empanada de pollo",precio:3e3},{id:2,name:"papas",precio:2700},{id:3,name:"Coca cola",precio:2e3}],producto_registro:"",venta:{producto_id:"",producto_nombre:"",producto_precio:0,cantidad:0,total:0},factura:[],range:[1,100],Cantidad:"",itemsPerPage:10,headers:[{title:"Nombre",align:"start",sortable:!1,key:"producto_nombre"},{title:"Cantidad",align:"end",key:"cantidad"},{title:"Precio Unidad",align:"end",key:"producto_precio"},{title:"Total",align:"end",key:"total"}]}),watch:{group(){this.drawer=!1}},methods:{submit(){console.log(this.venta)},crearVentaProducto(){console.log("CON"),console.log(producto_registro)},LlenarRegistro(a){console.log("LlenaR"),console.log(a),console.log(this.producto_registro)},agregarProductoFactura(){console.log("agregando:"),console.log(this.venta),this.factura.push(this.venta),this.venta={producto_id:"",producto_nombre:"",producto_precio:0,cantidad:0,total:0},console.log(this.factura)}},computed:{labelCantidadTotal:function(){return this.producto_registro.precio?"Precio unidad: $"+this.producto_registro.precio:""},precioProductoTotal:function(){this.venta.cantidad=parseInt(this.venta.cantidad);let a=parseInt(this.producto_registro.precio)*parseInt(this.venta.cantidad);return this.venta.total=a,this.venta.producto_precio=this.producto_registro.precio,this.venta.producto_id=this.producto_registro.id,this.venta.producto_nombre=this.producto_registro.name,a},totalFactura:function(){let a=0;return this.factura.forEach(l=>{a+=l.total}),a}}},A=o("thead",null,[o("tr",null,[o("th",{class:"text-left"}," Nombre "),o("th",{class:"text-left"}," Cant "),o("th",{class:"text-left"}," Precio U. "),o("th",{class:"text-left"}," Total ")])],-1),q=o("td",null,null,-1),z=o("td",null,null,-1),D=o("td",null,"Total",-1);function S(a,l,T,j,G,s){return c(),b(p,{"grid-list-xs":""},{default:e(()=>[t(P,null,{default:e(()=>[t(y,{flat:"",color:"blue-grey",dark:""},{default:e(()=>[t(x,null,{default:e(()=>[u(" Registrar Venta")]),_:1})]),_:1}),t(p,{"grid-list-xs":""}),t(k,null,{default:e(()=>[t(p,null,{default:e(()=>[t(N,null,{default:e(()=>[t(i,{cols:"12",sm:"12",xs:"12",md:"12",lg:"4"},{default:e(()=>[t(R,{label:"Producto",items:a.products,"item-title":"name",modelValue:a.producto_registro,"onUpdate:modelValue":l[0]||(l[0]=r=>a.producto_registro=r),"return-object":"",clearable:""},{item:e(({props:r,item:d})=>{var m,f,g;return[t(F,I(r,{"prepend-avatar":(m=d==null?void 0:d.raw)==null?void 0:m.avatar,title:(f=d==null?void 0:d.raw)==null?void 0:f.name,subtitle:(g=d==null?void 0:d.raw)==null?void 0:g.precio}),null,16,["prepend-avatar","title","subtitle"])]}),_:1},8,["items","modelValue"])]),_:1}),t(i,{cols:"5",sm:"4",xs:"4",md:"12",lg:"4"},{default:e(()=>[t(_,{label:"Cantidad","model-value":a.range[0],rules:[()=>!!a.venta.cantidad||"This field is required"],modelValue:a.venta.cantidad,"onUpdate:modelValue":l[1]||(l[1]=r=>a.venta.cantidad=r),ref:"venta.cantidad",min:"1",type:"number"},null,8,["model-value","rules","modelValue"])]),_:1}),t(i,{cols:"7",sm:"12",xs:"12",md:"4",lg:"4"},{default:e(()=>[t(_,{label:s.labelCantidadTotal,readonly:"",modelValue:a.venta.total,"onUpdate:modelValue":l[2]||(l[2]=r=>a.venta.total=r),value:s.precioProductoTotal,ref:"venta.cantidad"},null,8,["label","modelValue","value"])]),_:1}),t(i,{cols:"12",sm:"12",xs:"12",md:"4",lg:"4"},{default:e(()=>[t(V,{color:"success",onclick:s.agregarProductoFactura},{default:e(()=>[u("Agregar")]),_:1},8,["onclick"])]),_:1})]),_:1})]),_:1})]),_:1}),t(B,null,{default:e(()=>[A,o("tbody",null,[(c(!0),h(L,null,U(a.factura,r=>(c(),h("tr",{key:r.producto_nombre},[o("td",null,n(r.producto_nombre),1),o("td",null,n(r.cantidad),1),o("td",null,n(r.producto_precio),1),o("td",null,[u(n(r.total)+" ",1),t(v,{size:"small",icon:"mdi-pencil"}),t(v,{size:"small",color:"red",icon:"mdi-delete"})])]))),128)),o("tr",null,[q,z,D,o("td",null,n(s.totalFactura),1)])])]),_:1}),t(w,null,{default:e(()=>[t(V,{color:"success","prepend-icon":"mdi-archive",variant:"tonal",class:"mx-auto"},{default:e(()=>[u("Registrar")]),_:1})]),_:1})]),_:1})]),_:1})}const $=C(E,[["render",S]]),et={__name:"HomeView",setup(a){return(l,T)=>(c(),b($))}};export{et as default};
